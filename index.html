<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>VuetifyList+eng</title>
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.6.15/dist/vuetify.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css" rel="stylesheet">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
  </head>
  <body>

    <div id="app">
      <v-app>
        <v-app-bar app color="indigo" dark>
          <v-toolbar-title>{{ $t('appTitle') }}</v-toolbar-title>
          <v-spacer></v-spacer>
<v-select
  :items="['ru', 'en']"
  v-model="$i18n.locale"
  dense
  hide-details
  outlined
  style="max-width: 80px; margin-left: 10px;"
></v-select>
          <v-btn text to="/" tag="router-link">{{ $t('home') }}</v-btn>
          <v-btn text to="/about" tag="router-link">{{ $t('about') }}</v-btn>
        </v-app-bar>

        <v-main>
          <router-view></router-view>
        </v-main>
      </v-app>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuetify@2.6.15/dist/vuetify.js"></script>
    <script src="https://unpkg.com/vue-router@3.5.4/dist/vue-router.js"></script>
    <script src="https://unpkg.com/vuex@3.6.2/dist/vuex.js"></script>
<script src="https://unpkg.com/vue-i18n@8.28.2/dist/vue-i18n.js"></script>



    <script>
        const store = new Vuex.Store({
          state: {
            tasks: [
              { text: '–û–ø–ª–∞—Ç–∏—Ç—å –∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏', done: false },
              { text: '–ü—Ä–æ—á–∏—Ç–∞—Ç—å 10 —Å—Ç—Ä–∞–Ω–∏—Ü –∫–Ω–∏–≥–∏', done: false },
              { text: '–ü—Ä–æ–≥—É–ª–∫–∞', done: false },
              { text: '–ó–∞–∫–æ–Ω—á–∏—Ç—å –æ—Ç—á—ë—Ç –ø–æ —Ä–∞–±–æ—Ç–µ', done: false },
              { text: '–ö—É–ø–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã', done: false }
            ]
          },
          mutations: {
            addTask(state, text) {
              state.tasks.push({ text, done: false });
            },
            deleteTask(state, index) {
              state.tasks.splice(index, 1);
            },
            toggleDone(index) {
                this.tasks[index].done = !this.tasks[index].done;
            }
          }
        });
      
        const Home = {
          data() {
            return {
              newTask: ''
            };
          },
          computed: {
            tasks() {
              return this.$store.state.tasks;
            }
          },
          methods: {
            addTask() {
              const text = this.newTask.trim();
              if (text) {
                this.$store.commit('addTask', text);
                this.newTask = '';
              }
            },
            deleteTask(index) {
              this.$store.commit('deleteTask', index);
            },
            toggleDone(index) {
              this.$store.commit('toggleDone', index);
            }
          },
          template: `
            <v-container>
              <v-card class="pa-5 mt-5">
                <v-card-title>
                  <h2 class="text-h5 font-weight-bold">üìù {{ $t("taskList") }}</h2>
                </v-card-title>
                <v-card-text>
                  <v-text-field
                    v-model="newTask"
                    :label="$t('addTask')"
                    @keyup.enter="addTask"
                    outlined
                    dense
                  ></v-text-field>
                  <v-btn color="primary" @click="addTask">{{ $t("add") }}</v-btn>
      
                  <v-list two-line class="mt-5">
                    <v-list-item
                      v-for="(task, index) in tasks"
                      :key="index"
                    >
                      <v-list-item-action>
                        <v-checkbox
                          v-model="task.done"
                          @change="toggleDone(index)"
                        ></v-checkbox>
                      </v-list-item-action>
      
                      <v-list-item-content>
                        <v-list-item-title :class="{ 'text-decoration-line-through': task.done }">
                          {{ task.text }}
                        </v-list-item-title>
                      </v-list-item-content>
      
                      <v-list-item-action>
                        <v-btn icon @click="deleteTask(index)">
                          <v-icon color="red">mdi-delete</v-icon>
                        </v-btn>
                      </v-list-item-action>
                    </v-list-item>
                  </v-list>
                </v-card-text>
              </v-card>
            </v-container>
          `
        };
      </script>

    <!-- –û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ -->
    <script>
      const About = {
        template: `
          <v-container class="mt-5">
            <v-card class="pa-5">
              <v-card-title class="headline">{{ $t("about") }}</v-card-title>
              <v-card-text>
                <p>{{ $t("aboutText") }}</p>
                <p>{{ $t("student") }}</p>
              </v-card-text>
            </v-card>
          </v-container>
        `
      };
    </script>

    
<script>
  const messages = {
    ru: {
      appTitle: '–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–¥–∞—á',
      home: '–ì–ª–∞–≤–Ω–∞—è',
      about: '–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏',
      addTask: '–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É',
      add: '–î–æ–±–∞–≤–∏—Ç—å',
      taskList: '–°–ø–∏—Å–æ–∫ –¥–µ–ª',
      aboutText: '–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–º –¥–µ–ª.',
      student: '–¢–∏–º–∞—à–∫–æ–≤ –ê–ª–µ–∫—Å–µ–π, –°—Ç—É–¥–µ–Ω—Ç –ò–†–ù–ò–¢–£.'
    },
    en: {
      appTitle: 'Task Manager',
      home: 'Home',
      about: 'About',
      addTask: 'Add a task',
      add: 'Add',
      taskList: 'To-Do List',
      aboutText: 'This is a simple app to manage your tasks.',
      student: 'by Aleksei Timashkov, Student of IRNITU.'
    }
  };

  const i18n = new VueI18n({
    locale: 'ru',
    messages
  });
</script>

<!-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Vue-->
    <script>
        const routes = [
          { path: '/', component: Home },
          { path: '/about', component: About }
        ];
      
        const router = new VueRouter({ routes });
      
        new Vue({
          i18n,
          el: '#app',
          vuetify: new Vuetify(),
          router,
          store
        });
      </script>

    <style>
      .text-decoration-line-through {
        text-decoration: line-through;
      }
    </style>
  </body>
</html>
